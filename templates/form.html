{% extends "layout.html" %}

{% block main %}

    <!-- http://getbootstrap.com/docs/4.1/content/typography/ -->
    <h1 class="mb-3">The Weird Club Signup Form</h1>

    <!-- http://getbootstrap.com/docs/4.1/components/forms/ -->
    <form action="/form" method="post" name="form">

        <div class="row">
            <div class="form-group col-md-6">
                <input type="text" name="name" placeholder="Name" class="form-control" id="name" autofocus>
            </div>
            <div class="form-group col-md-6">
                <input type="email" name="email" placeholder="Email" class="form-control" id="email">
            </div>
        </div>

        <div class="row">
            <div class="form-group col-md-6">
                <b>Skills:</b><br>
                <input type="checkbox" name="skill1" value="Programming"> Programming<br>
                <input type="checkbox" name="skill2" value="Video Games"> Video Games<br>
                <input type="checkbox" name="skill3" value="Smiling"> Smiling<br>
            </div>
        </div>

        <div class="row">
            <div class="form-group col-md-6">
                <b>Do you prefer odds or evens?</b><br>
                <select class="custom-select" name=oddsevens>
                    <option selected disabled>Select</option>
                    <option value="Odds">Odds</option>
                    <option value="Evens">Evens</option>
                </select>
            </div>
            <div class="form-group col-md-6">
                <b>Birthday:</b><br>
                <input type="date" name="birthday" class="form-control">
            </div>
        </div>

        <div class="form-group">
            <input type="text" name="comments" placeholder="Comments" class="form-control">
        </div>


        <!-- http://getbootstrap.com/docs/4.1/components/buttons/ -->
        <button class="btn btn-primary" type="submit" onclick="Validate();">Submit</button>

    </form>

    <script>

        function Validate() {

            // Get variables
            let name = document.getElementById("name").value;
            let email = document.getElementById("email").value;

            // Alert if anything is missing
            if (name === "" && email === "") {
                alert("You must enter a name and valid email address!");
                event.preventDefault();
            }
            else if (name === "") {
                alert("You must enter a name!");
                event.preventDefault();
            }
            else if (validateEmail(email) == false) {
                alert("You must enter a valid email!");
                event.preventDefault();
            }
            else {
                return true;
            }

        }

        // Thanks to rnevius @ https://stackoverflow.com/questions/46155/how-to-validate-an-email-address-in-javascript for this code
        function validateEmail(email) {
            var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(String(email).toLowerCase());
        }

    </script>

{% endblock %}
